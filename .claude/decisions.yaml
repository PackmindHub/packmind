# AI Agent Implicit Decision Log
#
# This file captures implicit technical decisions and uncertainties encountered
# by AI agents during coding work. It helps track what architectural and design
# choices were made without explicit user guidance or documented standards.
#
# Review this file periodically to:
# - Understand what technical choices were made and why
# - Identify what uncertainties the AI had during implementation
# - Validate or question specific implementation decisions
# - Identify patterns that should become formal standards
# - Create explicit guidelines in CLAUDE.md
# - Add standards to Packmind
# - Use signal-capture to formalize good patterns into standards
#
# File is managed by the implicit-decision-capture skill.
# Schema: See .claude/skills/implicit-decision-capture/SKILL.md

# Example entries showing the skill in action:

- timestamp: 2026-01-09T17:30:00Z
  file: .claude/skills/implicit-decision-capture/SKILL.md
  context: 'Creating the implicit-decision-capture skill'
  category: 'architecture'
  question: 'Should the decisions.yaml file be tracked in git or gitignored?'
  decision: 'Track in git so teams can collaborate on context improvement'
  reasoning: 'This is team-wide context that everyone should review and improve, similar to CLAUDE.md'
  alternatives:
    - 'Gitignore it and keep it local to each developer'
    - 'Make it optional via configuration'
  impact: 'global'
  confidence: 'high'
  source: 'pattern-matching'
  tags:
    - 'skill-design'
    - 'collaboration'
    - 'git'

- timestamp: 2026-01-09T17:45:00Z
  file: .claude/skills/implicit-decision-capture/SKILL.md
  context: 'Creating the implicit-decision-capture skill'
  category: 'architecture'
  decision: 'Merge uncertainty-capture and decision-capture into a single skill'
  reasoning: 'Both skills captured the same concept (implicit decisions) with only minor differences. A single skill reduces cognitive overhead and eliminates the "log to both files" edge case.'
  alternatives:
    - 'Keep separate skills for questions vs decisions'
    - 'Create three-way merge with a new skill'
  impact: 'global'
  confidence: 'high'
  source: 'ai-agent'
  tags:
    - 'skill-design'
    - 'simplification'
    - 'architecture'

- timestamp: 2026-01-19T14:30:00Z
  file: apps/cli/src/domain/constants/AgentPaths.ts
  context: 'Consolidating agent paths from multiple locations into centralized AgentConfiguration'
  category: 'architecture'
  question: 'Should CLI use the same agent names as CodingAgent type or keep backward compatibility with "github" naming?'
  decision: 'Maintain backward compatibility by keeping CLI AgentType as "claude" | "github" and mapping "github" to "copilot" internally'
  reasoning: 'CLI commands already exposed to users use "github" as the agent name. Changing this would be a breaking change for users. The mapping is done at import time from the centralized configuration.'
  alternatives:
    - 'Rename "github" to "copilot" in CLI (breaking change)'
    - 'Add both "github" and "copilot" as aliases'
    - 'Use CodingAgent type directly in CLI'
  impact: 'module'
  confidence: 'high'
  source: 'inference'
  tags:
    - 'backward-compatibility'
    - 'cli'
    - 'naming-conventions'
    - 'agent-configuration'

- timestamp: 2026-01-19T14:35:00Z
  file: packages/coding-agent/src/domain/AgentConfiguration.ts
  context: 'Creating centralized agent configuration for file paths and skill paths'
  category: 'architecture'
  question: 'Should agent skill paths return empty string or null for agents that do not support skills?'
  decision: 'Use null for agents without skill support in AGENT_SKILL_PATHS constant'
  reasoning: 'Null explicitly indicates "no skill support" vs empty string which could be ambiguous or indicate root directory. Makes it clear in API that callers need to check for null.'
  alternatives:
    - 'Return empty string for unsupported agents'
    - 'Omit unsupported agents from the Record (requires Partial<Record>)'
    - 'Throw error for unsupported agents'
  impact: 'global'
  confidence: 'high'
  source: 'ai-agent'
  tags:
    - 'api-design'
    - 'null-handling'
    - 'type-safety'

- timestamp: 2026-01-20T12:00:00Z
  file: packages/integration-tests/src/test-setup.ts
  context: 'Fixing pre-existing lint errors while adding SSEEventPublisher mock'
  category: 'patterns'
  question: 'How should I fix unused parameter lint errors in a stub class implementing an interface?'
  decision: 'Use underscore prefix for unused parameters (_jobsOptions, _listeners, _jobId) combined with eslint-disable comments'
  reasoning: 'The SyncJob class is a test stub that implements IQueue interface. The unused parameters are required by the interface contract but not needed for the in-memory stub implementation. Using underscore prefix signals intent while eslint-disable silences the warnings without refactoring the interface.'
  alternatives:
    - 'Refactor IQueue interface to make parameters optional'
    - 'Remove parameters from method signatures (would break interface compliance)'
    - 'Add no-op usage of parameters just to silence linter'
  impact: 'local'
  confidence: 'high'
  source: 'pattern-matching'
  tags:
    - 'testing'
    - 'typescript'
    - 'eslint'
    - 'interface-implementation'

- timestamp: 2026-01-20T14:30:00Z
  file: packages/coding-agent/src/infra/repositories/defaultSkillsDeployer/DefaultSkillsDeployer.ts
  context: 'Implementing deploySkillsCreator method to generate FileUpdates for skill-creator files'
  category: 'architecture'
  question: 'Should file contents be stored as constants in the source code or read from disk at runtime?'
  decision: 'Store file contents as string constants in the TypeScript source file'
  reasoning: 'Consistent with how other deployers work in this codebase (e.g., ClaudeDeployer generates content from constants/templates). This approach avoids filesystem dependencies at runtime and keeps the deployment logic self-contained.'
  alternatives:
    - 'Read files from disk at runtime using fs module'
    - 'Bundle files as assets and import them'
    - 'Fetch files from a remote source'
  impact: 'module'
  confidence: 'high'
  source: 'pattern-matching'
  tags:
    - 'file-management'
    - 'deployment'
    - 'bundling'
    - 'coding-agent'

- timestamp: 2026-01-20T15:15:00Z
  file: packages/coding-agent/src/domain/repository/ICodingAgentDeployer.ts
  context: 'Adding deployDefaultSkills method to ICodingAgentDeployer interface'
  category: 'architecture'
  question: 'Should deployDefaultSkills be a required or optional method on ICodingAgentDeployer interface?'
  decision: 'Make deployDefaultSkills an optional method (deployDefaultSkills?())'
  reasoning: 'Not all deployers need to support default skills deployment. Making it optional allows deployers like PackmindDeployer or CursorDeployer to implement the interface without providing this capability, while ClaudeDeployer can implement it.'
  alternatives:
    - 'Make it required and have non-supporting deployers throw NotImplementedError'
    - 'Create a separate interface IDefaultSkillsDeployer'
    - 'Use type guards instead of optional method'
  impact: 'global'
  confidence: 'high'
  source: 'pattern-matching'
  tags:
    - 'interface-design'
    - 'optional-methods'
    - 'coding-agent'
    - 'typescript'
